<section id="service">
	<div class="container">
		<div class="row">
			<div class="col-md-12  wow bounce">
				<div class="section-heading text-center text-uppercase  wow bounceInUp">
					<br>
					<h3>Все<span>профайлы</span></h3>
					<!--   Функция возврата назад -->
					<a onclick="goBack()"  style="text-decoration: none;">Назад
						<i class="fa fa-shield fa-rotate-90"></i>
					</a>
					<script>
						function goBack() {
							window.history.back();
						}
					</script>
					<!---->
				</div>
				<br>
					<!--search-->
					<form action="{% url 'shop:search-users' %}" method="get" name="q" >
						<label class="form-control">

							<input type="radio" name="gender" value="women" {% if request.GET.gender == "women" %}checked{% endif %}> женский
						</label>
						<label class="form-control">
							<input type="radio" name="gender" value="men" {% if request.GET.gender == "men" %}checked{% endif %}> мужской
						</label>
						<br>
						{% comment %} <label> </label>
						<input type="checkbox" name="online_status" value="online" {% if request.GET.online_status == "online" %}checked{% endif %}> Online {% endcomment %}
						<label class="form-control">
							<input type="checkbox" name="online_status" value="online" {% if request.GET.online_status == "online" %}checked{% endif %}> Online 
							
						  </label>
						<br>
						<div class="col-sm-12">
                            
                           
								<label class="form-control" for="married">
								<input type="radio" id="married" name="marital_status" value="married" {% if request.GET.marital_status == "married" %}checked{% endif %}>В браке
                                </label>

								<label class="form-control" for="single">
								<input type="radio" id="single" name="marital_status" value="single" {% if request.GET.marital_status == "single" %}checked{% endif %}>Все сложно
                                </label>

								<label class="form-control" for="searching">
                                <input type="radio" id="searching" name="marital_status" value="searching" {% if request.GET.marital_status == "searching" %}checked{% endif %}>В активном поиске
                                </label>
                           
                        </div>
						

                       
						
						<div class="range-slider">
							<p>Возраст:  <span id="selected-birth_date" > 18</span> <span class="span">-</span> <span id="selected-birth_date_max" >75</span></p>
							<input type="range" min="18" max="75" name="birth_date" step="1" class="slider" id="birth_date" value="{% if request.GET.birth_date %}{{ request.GET.birth_date }}{% else %}18{% endif %}">
							<input type="range" min="18" max="75" name="birth_date_max"  step="1" class="slider" id="birth_date_max" value="{% if request.GET.birth_date_max %}{{ request.GET.birth_date_max }}{% else %}100{% endif %}">
							
						</div>
						<style>
							:root {
								--form-control-color: #ef5353;
								--form-control-disabled: #959495;
							  }
							  
							  *,
							  *:before,
							  *:after {
								box-sizing: border-box;
							  }
							  
							  
							  
							  
							  
							  .form-control {
								font-family: system-ui, sans-serif;
								font-size: 2rem;
								font-weight: bold;
								line-height: 1.1;
								display: grid;
								grid-template-columns: 1em auto;
								gap: 0.5em;
								background-color: black;
  								border: 0;
								color: #a0a0a0;
							  }
							  
							  .form-control + .form-control {
								margin-top: 1em;
							  }
							  
							  .form-control--disabled {
								color: var(--form-control-disabled);
								cursor: not-allowed;
							  }
							  input[type="radio"] {
								/* Add if not using autoprefixer */
								-webkit-appearance: none;
								/* Remove most all native input styles */
								appearance: none;
								/* For iOS < 15 */
								background-color: var(--form-background);
								/* Not removed via appearance */
								margin: 0;
							  
								font: inherit;
								color: currentColor;
								width: 1.15em;
								height: 1.15em;
								border: 0.15em solid currentColor;
								border-radius: 50%;
								transform: translateY(-0.075em);
							  
								display: grid;
								place-content: center;
							  }
							  
							  input[type="radio"]::before {
								content: "";
								width: 0.65em;
								height: 0.65em;
								border-radius: 50%;
								transform: scale(0);
								transition: 120ms transform ease-in-out;
								box-shadow: inset 1em 1em var(--form-control-color);
								/* Windows High Contrast Mode */
								background-color: CanvasText;
							  }
							  
							  input[type="radio"]:checked::before {
								transform: scale(1);
							  }
							  
							  input[type="radio"]:focus {
								outline: max(2px, 0.15em) solid currentColor;
								outline-offset: max(2px, 0.15em);
							  }
							  {% comment %}  {% endcomment %}
							  
							  input[type="checkbox"] {
								/* Add if not using autoprefixer */
								-webkit-appearance: none;
								/* Remove most all native input styles */
								appearance: none;
								/* For iOS < 15 */
								background-color: var(--form-background);
								/* Not removed via appearance */
								margin: 0;
							  
								font: inherit;
								color: currentColor;
								width: 1.15em;
								height: 1.15em;
								border: 0.15em solid currentColor;
								border-radius: 0.15em;
								transform: translateY(-0.075em);
							  
								display: grid;
								place-content: center;
							  }
							  
							  input[type="checkbox"]::before {
								content: "";
								width: 0.65em;
								height: 0.65em;
								clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
								transform: scale(0);
								transform-origin: bottom left;
								transition: 120ms transform ease-in-out;
								box-shadow: inset 1em 1em var(--form-control-color);
								/* Windows High Contrast Mode */
								background-color: CanvasText;
							  }
							  
							  input[type="checkbox"]:checked::before {
								transform: scale(1);
							  }
							  
							  input[type="checkbox"]:focus {
								outline: max(2px, 0.15em) solid currentColor;
								outline-offset: max(2px, 0.15em);
							  }
							  
							  input[type="checkbox"]:disabled {
								--form-control-color: var(--form-control-disabled);
							  
								color: var(--form-control-disabled);
								cursor: not-allowed;
							  }
							  
							
						</style>
						
						<style>
							
							.range-slider {
								margin: 50px auto;
								width: 80%;
								text-align: center;
							}
							
							.slider {
								width: 80%;
							}
							#selected-birth_date, #selected-birth_date_max {
								color:red; 
								font-size:18px;
							}
							.span {				
								color:green; 
								font-size:18px;
							}
							 

						</style>
				
						
						
						
						
						
						
						<script>
							var birthDate = document.getElementById('birth_date');
							var birthDateMax = document.getElementById('birth_date_max');
						
							document.getElementById('selected-birth_date').innerText = birthDate.value;
							document.getElementById('selected-birth_date_max').innerText = birthDateMax.value;
						
							birthDate.addEventListener('input', function() {
								if (parseInt(this.value) > parseInt(birthDateMax.value)) {
									this.value = birthDateMax.value;
								}
								document.getElementById('selected-birth_date').innerText = this.value;
							});
						
							birthDateMax.addEventListener('input', function() {
								if (parseInt(this.value) < parseInt(birthDate.value)) {
									this.value = birthDate.value;
								}
								document.getElementById('selected-birth_date_max').innerText = this.value;
							});
						</script>
						
						
						
						<br>
						<br>
						<button type="submit" class="btn red-btn" style="max-width: 9rem; max-height: 9rem;">Найти</button>
					</form>
					
					
					<div class="container">
						<div class="row">
							
							{% for user in users %}
							<div class="col-sm-6 col-md-3  wow bounceIn">
								<div class="single-item text-center">
									<br>
				
									{% if user.avatar %}                   
								
									<img class="img-fluid mx-auto d-block gallery-image" alt="Responsive image" style="max-width: 7rem; height: 7rem; border-radius: 50%;aspect-ratio: 1 / 1;" src="{{ user.full_image_url }}">
									
									{% else %}
										<img src="/static/shop/images/avatar.png" alt="user" style="max-width: 7rem; height: 7rem; border-radius: 50%;aspect-ratio: 1 / 1;">      
									{% endif %}
									{% if user.gender == "men" %}
										<i class="fa fa-child" style="font-size:24px"></i>
										
									{% elif  user.gender == "women" %}
										<i class="fa fa-female" style="font-size:24px"></i>
										
									{% else %}
										<i class="fa fa-circle-o" style="font-size:24px"></i>
									
										не выбран
									{% endif %}

									<!---->
									{% if user.online_status %}
										<span style="color:#77e977">Online</span>
									{% else %}
										<span style="color:#bdbcbc">Offline</span>
									{% endif %}
									<!---->
									<h4 class="text-uppercase">{{ user.username }} - {{ user.lastname }}</h4>
				
									<p>{{ user.bio|truncatechars:10}}</p>
									
									<a class="btn btn-red text-uppercase" href="{% url 'account:user_detail' slug=user.slug %}">          
										Смотреть
									</a>
								</div>
							</div>
						
							
							{% endfor %}
						</div>
					</div>
					
					<!--search-->
			</div>
		</div>
	</div>

	<!--all-->
	<div class="container">
		<div class="row">
			{% for only_friend in friends %}
			<div class="col-sm-6 col-md-3  wow bounceIn">
				<div class="single-item text-center">
					<br>

					{% if only_friend.avatar %}                   
				
					<img class="img-fluid mx-auto d-block gallery-image" alt="Responsive image" style="max-width: 7rem; height: 7rem; border-radius: 50%;aspect-ratio: 1 / 1;" src="{{ only_friend.full_image_url }}">
					
					{% else %}
						<img src="/static/shop/images/avatar.png" alt="user" style="max-width: 7rem; height: 7rem; border-radius: 50%;aspect-ratio: 1 / 1;">      
					{% endif %}
					{% if only_friend.gender == "men" %}
                        <i class="fa fa-child" style="font-size:24px"></i>
                        
                    {% elif  only_friend.gender == "women" %}
                        <i class="fa fa-female" style="font-size:24px"></i>
                        
                    {% else %}
                        <i class="fa fa-circle-o" style="font-size:24px"></i> 
                        не выбран
                    {% endif %}
					<h4 class="text-uppercase">{{ only_friend.username }} - {{ only_friend.lastname }}</h4>
					<!---->
					{% if only_friend.online_status %}
						<span style="color:#77e977">Online</span>
					{% else %}
						<span style="color:#bdbcbc">Offline</span>
					{% endif %}
					<!---->

					<p>{{ only_friend.bio|truncatechars:10}}</p>
					
					<a class="btn btn-red text-uppercase" href="{% url 'account:user_detail' slug=only_friend.slug %}">          
						Смотреть
					</a>
				</div>
			</div>
			{% endfor %}
			
		</div>
	</div>
	<!--all-->
</section>


        <!--friends-->